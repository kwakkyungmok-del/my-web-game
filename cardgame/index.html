<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>í„´ì œ ì¹´ë“œ ì „íˆ¬</title>
    <style>
        body {
            background: #0f0f0f;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        h1 { margin-bottom: 20px; }
        .cards {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .card {
            background: #1c1c1c;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s;
            width: 100px;
        }
        .card:hover {
            transform: scale(1.05);
            background: #2a2a2a;
        }
        #log { margin-top: 20px; min-height: 60px; }
        #score { margin-top: 10px; font-size: 18px; }
        button { margin-top: 15px; padding: 10px 15px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>

<h1>í„´ì œ ì¹´ë“œ ì „íˆ¬</h1>

<div class="cards" id="playerCards"></div>

<div id="log">ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”.</div>
<div id="score">ì ìˆ˜: 0 | ìµœê³  ì ìˆ˜: 0 | í„´: 1/10</div>

<button id="restartBtn">ê²Œì„ ì¬ì‹œì‘</button>

<script>
const totalTurns = 10;
let turn = 1;
let score = 0;
let highScore = localStorage.getItem('cardGameHigh') || 0;

// ì¹´ë“œ ë°ì´í„° ì˜ˆì‹œ (ê³µê²©ë ¥)
const cards = [
    {name:'âš”ï¸ ê³µê²© ì¹´ë“œ', attack:3},
    {name:'ğŸ›¡ï¸ ë°©ì–´ ì¹´ë“œ', attack:2},
    {name:'ğŸ”¥ ìŠ¤í‚¬ ì¹´ë“œ', attack:4}
];

// í”Œë ˆì´ì–´ ì¹´ë“œ í‘œì‹œ
const playerDiv = document.getElementById('playerCards');
const logDiv = document.getElementById('log');
const scoreDiv = document.getElementById('score');

function renderCards() {
    playerDiv.innerHTML = '';
    cards.forEach((card,index)=>{
        const div = document.createElement('div');
        div.className = 'card';
        div.textContent = card.name;
        div.onclick = ()=>playTurn(card);
        playerDiv.appendChild(div);
    });
}

// í„´ ì§„í–‰
function playTurn(playerCard) {
    if(turn > totalTurns) return;

    // ì»´í“¨í„° ì¹´ë“œ ëœë¤ ì„ íƒ
    const compCard = cards[Math.floor(Math.random()*cards.length)];

    // ê²°ê³¼ ê³„ì‚°
    let result = '';
    if(playerCard.attack > compCard.attack) {
        result = 'ìŠ¹ë¦¬!';
        score++;
    } else if(playerCard.attack < compCard.attack) {
        result = 'íŒ¨ë°°';
    } else {
        result = 'ë¬´ìŠ¹ë¶€';
    }

    logDiv.textContent = `í„´ ${turn}: ë‹¹ì‹  ${playerCard.name} vs ì»´í“¨í„° ${compCard.name} â†’ ${result}`;
    turn++;
    if(score>highScore) highScore=score;
    scoreDiv.textContent = `ì ìˆ˜: ${score} | ìµœê³  ì ìˆ˜: ${highScore} | í„´: ${turn<=totalTurns?turn+'/'+totalTurns:'ê²Œì„ ì¢…ë£Œ'}`;

    localStorage.setItem('cardGameHigh', highScore);

    if(turn > totalTurns) {
        logDiv.textContent += ' | ê²Œì„ ì¢…ë£Œ! ë‹¤ì‹œ ì‹œì‘í•˜ë ¤ë©´ ì•„ë˜ ë²„íŠ¼ í´ë¦­.';
    }
}

document.getElementById('restartBtn').onclick = ()=>{
    score=0;
    turn=1;
    renderCards();
    logDiv.textContent='ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”.';
    scoreDiv.textContent = `ì ìˆ˜: 0 | ìµœê³  ì ìˆ˜: ${highScore} | í„´: 1/${totalTurns}`;
};

// ì´ˆê¸° ë Œë”
renderCards();
</script>

</body>
</html>
