<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë¬´ê¸° ê°•í™” ì‹œë®¬ë ˆì´í„°</title>
    <style>
      body {
    margin: 0;
    padding: 0;
    background: #111;
    color: #fff;
    font-family: 'Segoe UI', sans-serif;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

#backBtn {
    position: fixed;
    top: 12px;
    left: 12px;
    padding: 6px 12px;
    background: #333;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

#backBtn:hover {
    background: #555;
}

.container {
    width: 320px;
    padding: 20px;
    background: #1a1a1a;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 0 20px rgba(0,0,0,0.5);
}

#weaponName {
    margin: 0;
    font-size: 22px;
}

#weaponLevel {
    margin: 6px 0 12px;
    color: #aaa;
}

#upgradeBtn {
    width: 100%;
    padding: 12px;
    margin-bottom: 10px;
    font-size: 16px;
    background: #3b82f6;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

#upgradeBtn:hover {
    background: #2563eb;
}

.log {
    min-height: 24px;
    margin-bottom: 12px;
    color: #facc15;
}

.collection-box {
    background: #0f0f0f;
    padding: 10px;
    border-radius: 8px;
}

.collection-box h3 {
    margin: 0 0 6px 0;
    font-size: 14px;
    color: #aaa;
}

.collection {
    max-height: 120px;   /* â˜… ì—¬ê¸° ì¤‘ìš” */
    overflow-y: auto;    /* ìŠ¤í¬ë¡¤ ìƒê¹€ */
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 6px;
}

.collection-item {
    background: #222;
    padding: 6px;
    border-radius: 6px;
    font-size: 12px;
}
</style>
</head>
<body>
    <button id="backBtn" onclick="goBack()">â† ë’¤ë¡œê°€ê¸°</button>

    <div class="container">
        <h1 id="weaponName">ë‚¡ì€ ê²€</h1>
        <div id="weaponLevel">+0</div>

        <button id="upgradeBtn" onclick="upgrade()">ê°•í™”í•˜ê¸°</button>

        <div id="log" class="log">ê°•í™”ë¥¼ ì‹œì‘í•˜ì„¸ìš”.</div>

        <div class="collection-box">
            <h3>ğŸ“– ë„ê°</h3>
            <div id="collection" class="collection"></div>
        </div>
    </div>
</body>

<script>
    let level = 0;
    let destroyed = false;

    const baseName = "ê²€";

    const stageNames = [
        { min: 0, name: "ë‚¡ì€" },
        { min: 5, name: "ë‹¨ë‹¨í•œ" },
        { min: 10, name: "ê°•ì² " },
        { min: 15, name: "ë¶ˆíƒ€ëŠ”" },
        { min: 20, name: "ìš©ì˜" }
    ];

    const extraAdjectives = [
        "ë‚ ì¹´ë¡œìš´",
        "ë¬µì§í•œ",
        "ë¹›ë‚˜ëŠ”",
        "ì €ì£¼ë°›ì€",
        "ì‹ ì„±í•œ",
        "ê´‘í­í•œ",
        "ì‹¬ì—°ì˜",
        "ê· ì—´ì˜"
    ];

    let discovered = new Set();

    function getStageName() {
        let current = stageNames[0].name;
        for (let stage of stageNames) {
            if (level >= stage.min) current = stage.name;
        }
        return current;
    }

    function getExtraAdjective() {
        if (level === 0) return "";
        return extraAdjectives[level % extraAdjectives.length];
    }

    function getWeaponName() {
        const stage = getStageName();
        const extra = getExtraAdjective();
        return extra ? `${stage} ${extra} ${baseName}` : `${stage} ${baseName}`;
    }

    function resetWeapon() {
        level = 0;
        destroyed = false;
        log("ğŸ†• ìƒˆë¡œìš´ ë¬´ê¸°ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤!");
        updateUI();
    }

    function upgrade() {
        const chance = Math.random();
        let result = "";

        if (chance < 0.6) {
            level++;
            result = "ì„±ê³µ! ê°•í™” ë‹¨ê³„ ìƒìŠ¹.";
        } else if (chance < 0.8) {
            result = "ì‹¤íŒ¨â€¦ ì•„ë¬´ ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•Šì•˜ë‹¤.";
        } else if (chance < 0.95) {
            if (level > 0) {
                level--;
                result = "ê°•í™” í•˜ë½! ë‹¨ê³„ ê°ì†Œ.";
            } else {
                result = "ì‹¤íŒ¨â€¦ ë³€í™” ì—†ìŒ.";
            }
        } else {
            result = "ğŸ’¥ ë¬´ê¸° íŒŒê´´! ìƒˆë¡œìš´ ë¬´ê¸°ë¥¼ ì§€ê¸‰í•©ë‹ˆë‹¤.";
            log(result);
            setTimeout(resetWeapon, 800);
            return;
        }
    }
    
    function resetWeapon() {
    level = 0;
    destroyed = false;
    updateUI("ìƒˆë¡œìš´ ë‚¡ì€ ê²€ì„ íšë“í–ˆìŠµë‹ˆë‹¤.");
}

        updateUI(result);
    }

    function updateUI(message) {
        const name = getWeaponName();

        document.getElementById("weaponName").innerText = name;
        document.getElementById("weaponLevel").innerText = "+" + level;

        if (!discovered.has(name)) {
            discovered.add(name);
            addToCollection(name);
        }

        if (message) log(message);
    }

    function log(text) {
        document.getElementById("log").innerText = text;
    }

    function addToCollection(name) {
        const div = document.createElement("div");
        div.className = "collection-item";
        div.innerText = name;
        document.getElementById("collection").appendChild(div);
    }

    document.getElementById("upgradeBtn").addEventListener("click", upgrade);

    updateUI("ê°•í™”ë¥¼ ì‹œì‘í•˜ì„¸ìš”.");
    function goBack() {
    window.location.href = "../index.html";
}

</script>

</body>
</html>
